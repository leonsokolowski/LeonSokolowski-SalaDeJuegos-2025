<div class="container">
  <h1 class="form-title">Registro</h1>
  
  <form [formGroup]="registroForm" (ngSubmit)="registrar()">
    <div class="form-group">
      <label for="correo">Correo:</label>
      <input id="correo" formControlName="correo" type="email" class="form-control" />
      <div *ngIf="f['correo'].touched && f['correo'].invalid" class="error-container">
        <small *ngIf="f['correo'].errors?.['required']">El correo es obligatorio.</small>
        <small *ngIf="f['correo'].errors?.['email']">El correo no es válido.</small>
        <small *ngIf="f['correo'].errors?.['alreadyExists']">Ya existe un usuario con ese correo.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="contraseña">Contraseña:</label>
      <input id="contraseña" formControlName="contraseña" type="password" class="form-control" />
      <div *ngIf="f['contraseña'].touched && f['contraseña'].invalid" class="error-container">
        <small *ngIf="f['contraseña'].errors?.['required']">La contraseña es obligatoria.</small>
        <small *ngIf="f['contraseña'].errors?.['minlength']">La contraseña debe tener al menos 8 caracteres.</small>
        <small *ngIf="f['contraseña'].errors?.['pattern']">La contraseña debe tener al menos una letra mayúscula y un número.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="confirmarContraseña">Confirmar Contraseña:</label>
      <input id="confirmarContraseña" formControlName="confirmarContraseña" type="password" class="form-control" />
      <div *ngIf="f['confirmarContraseña'].touched && f['confirmarContraseña'].invalid" class="error-container">
        <small *ngIf="f['confirmarContraseña'].errors?.['required']">La confirmación de la contraseña es obligatoria.</small>
        <small *ngIf="f['confirmarContraseña'].errors?.['noMatch']">Las contraseñas no coinciden.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="nombre">Nombre:</label>
      <input id="nombre" formControlName="nombre" type="text" class="form-control" />
      <div *ngIf="f['nombre'].touched && f['nombre'].invalid" class="error-container">
        <small *ngIf="f['nombre'].errors?.['required']">El nombre es obligatorio.</small>
        <small *ngIf="f['nombre'].errors?.['minlength']">El nombre debe tener al menos 2 caracteres.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="apellido">Apellido:</label>
      <input id="apellido" formControlName="apellido" type="text" class="form-control" />
      <div *ngIf="f['apellido'].touched && f['apellido'].invalid" class="error-container">
        <small *ngIf="f['apellido'].errors?.['required']">El apellido es obligatorio.</small>
        <small *ngIf="f['apellido'].errors?.['minlength']">El apellido debe tener al menos 2 caracteres.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="edad">Edad:</label>
      <input id="edad" formControlName="edad" type="number" class="form-control" />
      <div *ngIf="f['edad'].touched && f['edad'].invalid" class="error-container">
        <small *ngIf="f['edad'].errors?.['required']">La edad es obligatoria.</small>
        <small *ngIf="f['edad'].errors?.['min']">Debes tener al menos 18 años.</small>
      </div>
    </div>

    <div *ngIf="successMessage || errorMessage" class="alert-container">
      <div *ngIf="successMessage" class="alert alert-success">
        {{ successMessage }}
      </div>

      <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="registroForm.invalid">Registrarse</button>
  </form>
</div>
